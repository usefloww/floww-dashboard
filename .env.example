# ============================================================================
# Database Configuration
# ============================================================================

# Primary database URL (if not provided, constructed from parts below)
# For production, consider using aws-ssm: or constructing from DATABASE_PASSWORD
DATABASE_URL=postgresql://admin:secret@localhost:5432/floww

# Alternative: Construct DATABASE_URL from parts (for Docker secrets compatibility)
# DATABASE_USER=postgres
# DATABASE_PASSWORD=aws-ssm:
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
DATABASE_NAME=floww
# DATABASE_SSL=require

# Test database for running tests
TEST_DATABASE_URL=postgresql://admin:secret@localhost:5432/floww_test

# Encryption key for sensitive data (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))")
ENCRYPTION_KEY=aws-ssm:

# Session secret key (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))")
SESSION_SECRET_KEY=aws-ssm:

# ============================================================================
# Authentication Configuration
# ============================================================================

# Auth provider: workos | oidc | password | none
# Note: AUTH_TYPE='none' requires SINGLE_ORG_MODE=true
AUTH_TYPE=password

# Auth client credentials (used by WorkOS and OIDC)
AUTH_CLIENT_ID=aws-ssm:
AUTH_CLIENT_SECRET=aws-ssm:

# WorkOS (if AUTH_TYPE=workos)
WORKOS_API_KEY=aws-ssm:
WORKOS_CLIENT_ID=aws-ssm:

# OIDC (if AUTH_TYPE=oidc)
AUTH_ISSUER_URL=aws-ssm:

# Better Auth (alternative auth system)
BETTER_AUTH_SECRET=aws-ssm:
BETTER_AUTH_URL=http://localhost:3000

# JWT secret for workflow execution tokens
WORKFLOW_JWT_SECRET=aws-ssm:

# ============================================================================
# Centrifugo (WebSockets) Configuration
# ============================================================================

CENTRIFUGO_PUBLIC_URL=http://localhost:8000
CENTRIFUGO_API_KEY=aws-ssm:
CENTRIFUGO_JWT_SECRET=aws-ssm:

# ============================================================================
# Stripe Billing Configuration (optional, for SaaS deployments)
# ============================================================================

IS_CLOUD=false
STRIPE_SECRET_KEY=aws-ssm:
STRIPE_PUBLISHABLE_KEY=aws-ssm:
STRIPE_WEBHOOK_SECRET=aws-ssm:

# Stripe price IDs for subscription tiers
STRIPE_PRICE_ID_HOBBY=aws-ssm:
STRIPE_PRICE_ID_TEAM=aws-ssm:

# Billing periods (days)
TRIAL_PERIOD_DAYS=0
GRACE_PERIOD_DAYS=7

# ============================================================================
# Runtime Configuration
# ============================================================================

# Runtime type: docker | lambda | kubernetes
RUNTIME_TYPE=docker

# Docker runtime image (optional, uses default if not specified)
# DEFAULT_RUNTIME_IMAGE=

# Lambda runtime configuration (if RUNTIME_TYPE=lambda)
# Note: RUNTIME_TYPE='lambda' requires LAMBDA_EXECUTION_ROLE_ARN and REGISTRY_URL_RUNTIME
# AWS_REGION=us-east-1
# LAMBDA_EXECUTION_ROLE_ARN=aws-ssm:

# AWS Credentials (for Lambda, S3, ECR, Parameter Store)
AWS_ACCESS_KEY_ID=aws-ssm:
AWS_SECRET_ACCESS_KEY=aws-ssm:
AWS_REGION=us-east-1

# ============================================================================
# Container Registry Configuration
# ============================================================================

# Registry type: dockerhub | ecr | gcr | generic
REGISTRY_TYPE=dockerhub
REGISTRY_URL=https://registry-1.docker.io

# Registry for runtime images (defaults to REGISTRY_URL if not specified)
# REGISTRY_URL_RUNTIME=

# Registry repository name
REGISTRY_REPOSITORY_NAME=floww-runtime

# Registry credentials (optional, depending on registry type)
# REGISTRY_USERNAME=aws-ssm:
# REGISTRY_PASSWORD=aws-ssm:
# REGISTRY_TOKEN=aws-ssm:

# ============================================================================
# OAuth Providers Configuration
# ============================================================================

# Google OAuth (for workflow integrations)
GOOGLE_OAUTH_CLIENT_ID=aws-ssm:
GOOGLE_OAUTH_CLIENT_SECRET=aws-ssm:

# ============================================================================
# AI Configuration
# ============================================================================

# OpenRouter API key for AI workflow generation
OPENROUTER_API_KEY=aws-ssm:

# Model for AI workflow generation (via OpenRouter)
# Options: anthropic/claude-sonnet-4.5, anthropic/claude-3.5-sonnet, openai/gpt-4o, etc.
AI_MODEL_CODEGEN=anthropic/claude-sonnet-4.5

# ============================================================================
# Worker Configuration
# ============================================================================

# Enable background worker for async job processing
ENABLE_WORKER=false

# Run in worker-only mode (no web server)
WORKER_ONLY=false

# ============================================================================
# General Configuration
# ============================================================================

# Backend URL (for server-side API calls)
BACKEND_URL=http://localhost:8000

# Public API URL (for client-side API calls, if different from BACKEND_URL)
# PUBLIC_API_URL=https://api.example.com

# Admin panel
ENABLE_ADMIN=true
ADMIN_EMAIL=aws-ssm:
ADMIN_PASSWORD=aws-ssm:

# Single Organization Mode (for self-hosting without multi-tenancy)
SINGLE_ORG_MODE=false
SINGLE_ORG_NAME=default
SINGLE_ORG_DISPLAY_NAME=Default Organization

# ============================================================================
# Monitoring & Observability
# ============================================================================

# Sentry error tracking
SENTRY_DSN=aws-ssm:
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0

# Client-side Sentry (VITE_* vars are bundled into client JS)
VITE_SENTRY_DSN=aws-ssm:
VITE_SENTRY_ENVIRONMENT=development

# Node environment (used as fallback for SENTRY_ENVIRONMENT)
NODE_ENV=development

# Application version (auto-detected from package.json if not set)
# VERSION=0.0.0
